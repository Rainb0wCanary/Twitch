:root{
  --bg: #f7f7fa;
  --surface: #ffffff;
  --muted: #6b7280;
  --primary: #4CAF50;
  --primary-600: #388e3c;
  --danger: #f44336;
  --danger-700: #b71c1c;
  --accent: #2196F3;
  --soft-yellow: #fff3cd;
  --soft-yellow-border: #ffe082;
  --radius: 8px;
  --transition: 0.18s ease;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Глобальные раскладки */
html,body{height:auto;}
body{
  margin:0;
  padding:14px;
  background:var(--bg);
  color:#111827;
  font-size:14px;
  -webkit-font-smoothing:antialiased;
}

/* Кнопки */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  gap:8px;padding:8px 12px;border-radius:6px;border:none;cursor:pointer;
  transition:background var(--transition),transform 0.08s ease;
  box-sizing:border-box;line-height:1;vertical-align:middle;font-weight:600;
}
.btn:active{transform:translateY(1px);}
.btn-primary{background:var(--primary);color:#fff}
.btn-primary:disabled{background:#bdbdbd;color:#fff;cursor:not-allowed}
.btn-primary:hover:not(:disabled){background:var(--primary-600)}
.btn-danger{background:var(--danger);color:#fff}
.btn-danger:hover{background:var(--danger-700)}
.btn-accent{background:var(--accent);color:#fff}
.btn-accent:hover{background:#1565c0}
.btn-warning{background:#ff9800;color:#fff}
.btn-warning:hover{background:#e65100}

/* Стили, специфичные для popup */
.popup-root{width:320px;max-width:100%;box-sizing:border-box;background:var(--surface);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(16,24,40,0.12);border:1px solid #e6eef7;display:flex;flex-direction:column;align-items:center}
.popup-root.compact{width:300px;padding:10px}
.popup-header{display:flex;align-items:center;gap:10px;margin-bottom:10px;width:100%;justify-content:space-between}
.status-row{text-align:left;margin:0;display:flex;align-items:center;gap:8px}
.status-indicator{width:12px;height:12px;border-radius:50%;display:inline-block;vertical-align:middle;border:2px solid #eef2f7}
.status-text{font-size:13px;color:var(--muted);font-weight:600}
.popup-title{font-size:15px;font-weight:700;color:#0f172a}
.controls{display:flex;gap:8px;margin-top:10px;align-items:center;justify-content:center;width:100%}
.controls .small{width:40px;height:36px;padding:6px;border-radius:8px}
.controls .big{flex:0 0 auto;padding:8px;border-radius:8px}
#currentTimer{margin-top:10px;font-size:13px;color:#111;text-align:center;background:linear-gradient(180deg,var(--soft-yellow),#fff);border-radius:8px;padding:8px 10px;border:1px solid var(--soft-yellow-border);width:90%}
.popup-footer{display:flex;justify-content:space-between;align-items:center;margin-top:10px;gap:8px}
.link-muted{font-size:13px;color:var(--muted);text-decoration:none}
.btn-icon{display:inline-flex;align-items:center;justify-content:center;margin-right:8px}
.btn.round{border-radius:10px}

/* Размер кнопки "Start" в popup */
#startButton{width:90%;max-width:92%;display:inline-flex;justify-content:center}

/* Страница статистики */
.container{max-width:1200px;margin:16px auto}
.card{background:var(--surface);padding:12px;border-radius:var(--radius);box-shadow:0 2px 4px rgba(16,24,40,0.08);border:1px solid #eef2f7;transition:box-shadow 0.2s}
.card:hover{box-shadow:0 4px 12px rgba(16,24,40,0.12)}
#log{font-size:13px;height:120px;overflow:auto;background:#fbfbfd;border-radius:6px;padding:8px;border:1px solid #e6e6e6}

/* Компактная таблица статистики */
.stats-table{width:100%;font-size:12px;border-collapse:collapse;margin-top:10px;background:#fff}
.stats-table thead{background:#7a8fa7;color:#fff;position:sticky;top:0;z-index:10}
.stats-table thead th{padding:8px 6px;text-align:center;font-weight:600;border:1px solid #5a6f87;white-space:nowrap}
.stats-table tbody tr{background:#2b2b2b;color:#fff;border-bottom:1px solid #444}
.stats-table tbody tr:nth-child(even){background:#333}
.stats-table tbody tr:hover{background:#3a3a3a}
.stats-table tbody td{padding:6px 8px;text-align:center;border:1px solid #444;vertical-align:middle}
.stats-table tbody td:nth-child(1){width:90px}
.stats-table tbody td:nth-child(2){text-align:center;width:auto;min-width:250px;padding:6px 10px;word-break:break-all;line-height:1.4}
.stats-table tbody td:nth-child(3){width:100px;text-align:center !important}
.stats-table tbody td:nth-child(4){width:120px;text-align:center !important}
.stats-table tbody td:nth-child(5){width:100px;text-align:center !important}
.stats-table tbody td:nth-child(6){width:120px}
.stats-table tbody td:nth-child(7){width:80px}
.stats-table tbody td:nth-child(8){padding:6px;position:relative;overflow:hidden}
.stats-table td.table-actions{width:240px;min-width:240px}
.stats-table tbody td:nth-child(9){width:70px}
.stats-table td.priority-cell{width:70px;min-width:70px;text-align:center;font-weight:600}
.stats-table tfoot td{padding:6px;background:#f9f9f9;border:1px solid #ddd}

/* Разделение групп */
.stats-table .group-first{border-top:3px solid #4a9eff !important}
.stats-table .group-first td{border-top:3px solid #4a9eff !important}
.stats-table .ungrouped-row{background:#1a1a1a !important}
.stats-table .ungrouped-row:hover{background:#252525 !important}

/* Колонки группы */
.stats-table .group-cell{background:#4a5a6a;font-weight:700;color:#fff;text-align:center;overflow:hidden}
.stats-table .group-row{background:#2a2a2a !important}
.stats-table .group-row:hover{background:#353535 !important}
.stats-table .move-group-up-btn,.stats-table .move-group-down-btn{padding:2px 6px;font-size:10px;min-width:28px;min-height:20px}
.time-cell{text-align:center !important;font-variant-numeric:tabular-nums}
.stats-table th.time-cell,.stats-table td.time-cell{text-align:center !important}
.status-cell{text-align:center}

/* Ссылки на каналы */
.channel-link{color:#4a9eff;text-decoration:none;word-break:break-all;display:block;width:100%;line-height:1.4;text-align:center}
.channel-link:hover{color:#6bb3ff;text-decoration:underline}

/* Статус и прогресс */
.status-active{color:#4caf50;font-weight:600}
.status-blacklist{color:#f44336;font-weight:600}
.status-partial{color:#ff9800;font-weight:600}
.progress-text{font-weight:700;color:#4a9eff}

/* Кнопки в ячейках */
.stats-table .table-actions{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:6px;
  justify-items:stretch;
  align-items:center;
  width:100%;
}
.stats-table .btn-xs{
  display:inline-block;
  width:100%;
  height:28px;
  line-height:26px;
  padding:0 8px;
  font-size:12px;
  border-radius:4px;
  white-space:nowrap;
  box-sizing:border-box;
}
input[type=text], input[type=number], select{padding:6px 8px;border-radius:6px;border:1px solid #dfe6f3;background:#fff;font-size:13px}
input[type=text]:focus, input[type=number]:focus, select:focus{border-color:#4a9eff;box-shadow:0 0 0 3px rgba(74,158,255,0.1);outline:none}
label{font-size:13px;color:#374151}

/* Одинаковая ширина для кнопок действий в таблице, чтобы держать аккуратный вид */
.table-actions{ /* Центрируем содержимое ячейки и делаем кнопки горизонтальным рядом */
  text-align:center;vertical-align:middle;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:4px;padding:6px;flex-wrap:wrap
}
.table-actions .btn{ /* Кнопки занимают 48% ширины ячейки, ограничиваем поведение текста */
  flex:0 0 calc(50% - 2px);min-width:60px;max-width:100%;box-sizing:border-box;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:6px 8px;font-size:12px
}

/* Узкая колонка для Группы (1-й столбец), канал оставляем шире */
th:nth-child(1), td:nth-child(1) {
  width:90px;max-width:90px;padding:8px 4px;text-align:center;font-weight:600
}

/* Улучшенные стили для текста группы */
.group-badge {background:#e3f2fd;color:#4a9eff;padding:2px 6px;border-radius:3px;font-weight:600;font-size:12px;display:inline-block}
.channel-link {color:#4a9eff;text-decoration:none;font-weight:500;border-bottom:1px solid transparent;transition:border-color 0.2s}
.channel-link:hover{border-bottom-color:#4a9eff}

/* Небольшие вспомогательные стили */
.muted{color:var(--muted)}
.flex{display:flex}
.gap-8{gap:8px}

@media (max-width:420px){
  .popup-root{width:220px}
  body{padding:10px}
}

/* Компактный вариант popup для сохранения первоначального компактного вида */
.popup-root.compact{width:220px;padding:8px}
.popup-root.compact .btn{padding:8px;font-size:13px}
.popup-root.compact #currentTimer{font-size:13px;padding:6px}

/* Малые кнопки, используемые в действиях таблицы */
.btn-sm{padding:6px 10px;border-radius:4px;font-size:13px;min-height:32px;display:inline-flex;align-items:center;box-sizing:border-box}
/* Обеспечиваем, чтобы маленькие кнопки внутри действий таблицы соответствовали ширине столбца */
.table-actions .btn-sm{width:80%;min-width:0;max-width:100%;padding-left:8px;padding-right:8px}
.btn-sm.btn-primary{background:var(--primary);}
.btn-sm.btn-danger{background:var(--danger);}
.btn-sm.btn-accent{background:var(--accent);}
.btn-sm.btn-warning{background:#ff9800}

/* Иконки внутри кнопок */
.btn .icon{display:inline-flex;width:16px;height:16px;align-items:center;justify-content:center;margin-right:8px}
.btn .icon svg{width:14px;height:14px;display:block;fill:currentColor}



